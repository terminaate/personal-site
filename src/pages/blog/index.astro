---
import { getCollection } from 'astro:content';
import BaseLayout from '../../layouts/base-layout.astro';

const posts = await getCollection('posts');
---

<BaseLayout title="Blog">
  <div class="posts">
    {
      posts.map((o) => (
        <a href={`/blog/${o.id}`} class="postContainer">
          <span class="date">{o.data.date.getDate()}-{o.data.date.getMonth()}-{o.data.date.getFullYear()}</span>
          <h1 class="title">{o.data.title}</h1>
        </a>
      ))
    }
  </div>
</BaseLayout>

<style>

  .posts {
    display: grid;
    grid-template-columns: 1fr 1fr;
    grid-template-rows: 1fr 1fr;
    justify-items: center;
    max-height: 90%;
    //width: 100%;
    grid-gap: 15px;
    margin-top: 10px;

    @media screen and (max-width: 1060px) {
      grid-template-columns: 1fr;
    }

    .postContainer {
      //cursor: pointer;
      //width: 250px;
      width: 90%;
      height: 150px;
      padding: 10px;
      row-gap: 10px;
      box-sizing: content-box;
      background-color: var(--background-secondary);
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      border-radius: 15px;
      position: relative;

      .date {
        position: absolute;
        bottom: 10px;
        right: 10px;
        font-size: 15px;
        font-family: var(--font-secondary);
        color: var(--text-secondary)
      }

      .title {
        font-size: 25px;
        font-weight: 500;
        //text-overflow: ellipsis;
        //overflow: hidden;
      }

      .description {
        font-size: 15px;
        //width: 100%;
        //text-overflow: ellipsis;
        //overflow: hidden;
        //white-space: nowrap;
      }
    }
  }
</style>
